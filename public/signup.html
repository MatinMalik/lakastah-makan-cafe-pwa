<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Lakastah Makan Cafe</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">


    <style>/* Back Button */
.back-btn { font-size: 24px; cursor: pointer; margin-bottom: 12px; display: inline-block; }

.toast {
    position: fixed;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: #fff;
    padding: 0.8rem 1.5rem;
    border-radius: 20px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s, transform 0.3s;
    z-index: 9999;
}

.toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

</style>

</head>
<body>
    <div class="container">
        <div class="phone-frame">
            <div class="content">

                <span class="back-btn" onclick="window.location.href='index.html'">‚Üê Back</span>

                <img src="cafe-logo.jpg" alt="Kwastah Makan Cafe" class="logo-small">
                
                <form class="form" onsubmit="handleSignup(event)">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" class="input-field" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone:</label>
                        <input type="tel" id="phone" name="phone" class="input-field" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" class="input-field" required>
                    </div>

                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" class="input-field" required>
                    </div>


                    
                    <button type="submit" class="btn btn-primary">Continue</button>
                </form>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">Message</div>

    <script>
        function showToast(message) {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.classList.add("show");

    setTimeout(() => {
        toast.classList.remove("show");
    }, 2000);
}


function handleSignup(event){
    event.preventDefault();

    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    let users = JSON.parse(localStorage.getItem("users") || "[]");

    if(users.some(u => u.email === email)){
        showToast("Email already registered. Please login.");
        return;
    }

    const newUser = {
        id: Date.now(),
        name,
        phone,
        email,
        password
    };

    users.push(newUser);
    localStorage.setItem("users", JSON.stringify(users));

    showToast("Signup successful! Redirecting to login...");

    setTimeout(() => {
    window.location.href = "login.html";
}, 2000);
}
</script>

    
</body>
</html>
