<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Languages - Lakastah Makan Cafe</title>
<link rel="stylesheet" href="styles.css">
<link rel="manifest" href="manifest.json">

<style>
/* Highlight selected language */

</style>
</head>
<body>
<div class="container">
    <!-- Header -->
    <div class="header">
        <button class="back-btn" onclick="history.back()">â†</button>
        <h2 class="page-title">Languages</h2>
    </div>

    <!-- Language Selection -->
    <div class="profile-section">
        <div class="language-icon">
            <svg width="120" height="120" viewBox="0 0 120 120" style="margin: 2rem auto; display: block;">
                <rect x="10" y="30" width="50" height="60" fill="#D4A843" rx="5"/>
                <text x="35" y="70" font-size="30" fill="white" text-anchor="middle">ãƒ©</text>
                <rect x="60" y="30" width="50" height="60" fill="#333" rx="5"/>
                <text x="85" y="70" font-size="30" fill="white" text-anchor="middle">A</text>
                <path d="M 35 30 L 85 30 L 60 10 Z" fill="#D4A843"/>
            </svg>
        </div>

        <h3 class="section-title" style="text-align: center; margin-bottom: 1rem;">Select Languages</h3>
        <p style="text-align: center; color: #666; margin-bottom: 2rem;">Choose your preferred language</p>

        <div class="language-options">
            <button class="language-option" data-lang="ms">
                <span class="language-flag">ğŸ‡²ğŸ‡¾</span>
                <span class="language-name">Malay</span>
            </button>
            <button class="language-option" data-lang="en">
                <span class="language-flag">ğŸ‡¬ğŸ‡§</span>
                <span class="language-name">English</span>
            </button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
                <a href="home.html" class="nav-item">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-label">Home</span>
                </a>
                <a href="deals.html" class="nav-item">
                    <span class="nav-icon">ğŸ·ï¸</span>
                    <span class="nav-label">Deals</span>
                </a>
                <a href="meals.html" class="nav-item">
                    <span class="nav-icon">ğŸ½ï¸</span>
                    <span class="nav-label">Menu</span>
                </a>
                <a href="cart.html" class="nav-item">
                    <span class="nav-icon">ğŸ›’</span>
                    <span class="nav-label">Cart</span>
                </a>
                <a href="profile.html" class="nav-item active">
                    <span class="nav-icon">ğŸ‘¤</span>
                    <span class="nav-label">You</span>
                </a>
            </nav>
</div>

<script>
// Protect page: only logged-in users allowed
const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));
if (!loggedInUser) window.location.href = "login.html";

// Make language selection functional
const langButtons = document.querySelectorAll('.language-option');
const savedLang = localStorage.getItem('selectedLanguage') || 'en';

// Highlight saved language on page load
langButtons.forEach(btn => {
    if (btn.dataset.lang === savedLang) btn.classList.add('active');

    btn.addEventListener('click', () => {
        // Remove active from all buttons
        langButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        // Save selection
        localStorage.setItem('selectedLanguage', btn.dataset.lang);

        // Optional: translate all pages using this value
        // Example: you can use savedLang on other pages to replace text
        console.log("Language selected:", btn.dataset.lang);
    });
});
</script>
</body>
</html>
